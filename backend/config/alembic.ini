 # backend/config/alembic.ini
 # Configuration principale d'Alembic pour la gestion des migrations
 # Ce fichier définit les paramètres globaux d'Alembic

[alembic]
# Chemin vers le dossier contenant les scripts de migration
# Chemin relatif depuis la racine `backend/`
script_location = alembic

# Template de fichier utilisé pour générer les nouvelles migrations
file_template = %%(year)d%%(month).2d%%(day).2d_%%(hour).2d%%(minute).2d_%%(slug)s

# Timezone pour les timestamps des migrations
timezone = Europe/Paris

# URL de connexion à la base de données
# Cette valeur peut être surchargée par `alembic/env.py` qui utilise les variables d'environnement
# Format: postgresql://user:password@host:port/database
sqlalchemy.url = postgresql://user:password@host:port/database

# Encoding utilisé pour les fichiers de migration
output_encoding = utf-8

# ============================================
# LOGGING CONFIGURATION
# ============================================
[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

# Logger racine
[logger_root]
level = WARN
handlers = console
qualname =

# Logger SQLAlchemy (requêtes SQL)
[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine

# Logger Alembic
[logger_alembic]
level = INFO
handlers =
qualname = alembic

# Handler console (affichage dans le terminal)
[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

# Format des messages de log
[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S
